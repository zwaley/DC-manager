# è®¾å¤‡è¿æ¥å…³ç³»æ¨¡å—ç»¼åˆè®¾è®¡æ–‡æ¡£

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®èƒŒæ™¯
æœ¬æ–‡æ¡£æè¿°äº†å®‰å‰ç”µä¿¡åŠ¨åŠ›è®¾å¤‡ç®¡ç†ç³»ç»Ÿä¸­è®¾å¤‡è¿æ¥å…³ç³»æ¨¡å—çš„å®Œæ•´è®¾è®¡æ–¹æ¡ˆã€‚è¯¥æ¨¡å—ä¸“é—¨ç”¨äºç®¡ç†åŠ¨åŠ›è®¾å¤‡ä¹‹é—´çš„ä¾›ç”µè¿æ¥å…³ç³»ï¼ŒåŒ…æ‹¬ç”µç¼†è¿æ¥ã€é“œæ’è¿æ¥å’Œæ¯çº¿è¿æ¥çš„å¯è§†åŒ–ã€ç®¡ç†å’Œåˆ†æã€‚

### 1.2 ä¸šåŠ¡éœ€æ±‚
- **ä¾›ç”µå…³ç³»ç®¡ç†**ï¼šç³»ç»Ÿåªç®¡ç†è®¾å¤‡é—´çš„ä¾›ç”µå…³ç³»ï¼Œä¸æ¶‰åŠå…‰çº¤ã€æ•°æ®çº¿ç­‰å…¶ä»–è¿æ¥ç±»å‹
- **è¿æ¥ä»‹è´¨ç®¡ç†**ï¼šæ”¯æŒç”µç¼†ã€é“œæ’ã€æ¯çº¿ä¸‰ç§è¿æ¥ä»‹è´¨çš„è¯¦ç»†ä¿¡æ¯è®°å½•
- **è§„æ ¼ä¿¡æ¯**ï¼šè®°å½•ç”µç¼†è§„æ ¼ã€é“œæ’è§„æ ¼ã€ç†”ä¸/ç©ºå¼€ä¿¡æ¯ã€å¹¶è”æ•°é‡ç­‰æŠ€æœ¯å‚æ•°
- **å±‚çº§å…³ç³»**ï¼šæ”¯æŒä¸Šä¸‹çº§å’Œä¸Šä¸‹æ¸¸å…³ç³»çš„è®°å½•å’Œç®¡ç†
- **å¯è§†åŒ–å±•ç¤º**ï¼šé€šè¿‡æ‹“æ‰‘å›¾ç›´è§‚å±•ç¤ºè®¾å¤‡é—´çš„ä¾›ç”µé“¾è·¯å…³ç³»
- **è¿æ¥ç®¡ç†**ï¼šæ”¯æŒè¿æ¥å…³ç³»çš„å¢åˆ æ”¹æŸ¥æ“ä½œ

### 1.3 è®¾è®¡åŸåˆ™
- **å‘åå…¼å®¹**ï¼šä¸å½±å“ç°æœ‰è®¾å¤‡ç®¡ç†å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†æ¨¡å—çš„ç¨³å®šæ€§
- **æ¸è¿›å¢å¼º**ï¼šåœ¨ç°æœ‰æ¶æ„åŸºç¡€ä¸Šæ‰©å±•åŠŸèƒ½ï¼Œé¿å…å¤§è§„æ¨¡é‡æ„
- **æ•°æ®ä¸€è‡´æ€§**ï¼šç¡®ä¿ä¸Excelå¯¼å…¥æ•°æ®æ ¼å¼å®Œå…¨å…¼å®¹
- **å°æ­¥å‰è¿›**ï¼šåˆ†é˜¶æ®µå®æ–½ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰å¯äº¤ä»˜çš„åŠŸèƒ½

## 2. ç°çŠ¶åˆ†æ

### 2.1 ä»£ç ç°çŠ¶è¯Šæ–­

**å·²æœ‰åŸºç¡€è®¾æ–½ï¼š**
- âœ… Connectionæ•°æ®æ¨¡å‹å·²å­˜åœ¨ï¼ˆmodels.pyï¼‰
- âœ… åŸºç¡€æ‹“æ‰‘å›¾å¯è§†åŒ–å·²å®ç°ï¼ˆgraph.html + vis.jsï¼‰
- âœ… è®¾å¤‡ç®¡ç†åŸºç¡€æ¶æ„å®Œå–„
- âœ… Excelæ•°æ®å¯¼å…¥åŠŸèƒ½å·²æœ‰

**å…³é”®é—®é¢˜è¯†åˆ«ï¼š**
1. **APIè·¯å¾„ä¸åŒ¹é…**ï¼šå‰ç«¯è°ƒç”¨`/api/power-chain/`ï¼Œåç«¯å®é™…ä¸º`/graph_data/`
2. **æ•°æ®æ¨¡å‹ä¸è¶³**ï¼šç°æœ‰Connectionæ¨¡å‹åªæœ‰åŸºç¡€å­—æ®µï¼ˆsource_device_id, target_device_id, source_port, target_port, cable_typeï¼‰
3. **åŠŸèƒ½ç¼ºå¤±**ï¼šç¼ºå°‘è¿æ¥CRUDç®¡ç†ç•Œé¢å’ŒAPI
4. **æ•°æ®ç»“æ„ç®€å•**ï¼šæ— æ³•æ”¯æŒExcelä¸­çš„è¯¦ç»†è¿æ¥ä¿¡æ¯

### 2.2 Excelæ•°æ®ç»“æ„åˆ†æ

**ç°æœ‰è¿æ¥æ•°æ®ç»“æ„ï¼ˆsheet2 - è¿æ¥è¡¨ï¼‰ï¼š**

æ ¹æ®å®é™…Excelæ–‡ä»¶ï¼Œè¿æ¥è¡¨åŒ…å«18åˆ—å­—æ®µï¼š
1. Aç«¯è®¾å¤‡åç§°
2. Aç«¯ç†”ä¸ç¼–å·
3. Aç«¯ç†”ä¸è§„æ ¼
4. Aç«¯ç©ºå¼€ç¼–å·
5. Aç«¯ç©ºå¼€è§„æ ¼
6. ä¸Šä¸‹çº§
7. ä¸Šä¸‹æ¸¸
8. è¿æ¥ç±»å‹ï¼ˆç”µç¼†/é“œæ’/æ¯çº¿ï¼‰
9. ç”µç¼†å‹å·
10. Bç«¯è®¾å¤‡åç§°
11. Bç«¯ç†”ä¸ç¼–å·
12. Bç«¯ç†”ä¸è§„æ ¼
13. Bç«¯ç©ºå¼€ç¼–å·
14. ç©ºå¼€è§„æ ¼
15. Bç«¯è®¾å¤‡ä½ç½®ï¼ˆéåŠ¨åŠ›è®¾å¤‡ï¼‰
16. Aç«¯è®¾å¤‡ç…§ç‰‡
17. Bç«¯è®¾å¤‡ç…§ç‰‡
18. å¤‡æ³¨

**æ•°æ®ç‰¹ç‚¹åˆ†æï¼š**
- âœ… æ•°æ®å®Œæ•´æ€§ï¼š18åˆ—50è¡Œï¼Œç»“æ„æ¸…æ™°
- âœ… åŒ…å«è¯¦ç»†çš„ç†”ä¸å’Œç©ºå¼€ä¿¡æ¯
- âœ… æ”¯æŒä¸Šä¸‹çº§å’Œä¸Šä¸‹æ¸¸å…³ç³»
- âœ… åŒ…å«è¿æ¥ç±»å‹å’Œç”µç¼†å‹å·
- âœ… æ”¯æŒè®¾å¤‡ç…§ç‰‡å’Œå¤‡æ³¨ä¿¡æ¯
- âš ï¸ éœ€è¦æ ‡å‡†åŒ–å¤„ç†å’Œå­—æ®µæ˜ å°„

## 3. æŠ€æœ¯æ¶æ„è®¾è®¡

### 3.1 æ¶æ„é€‰æ‹©è¯„ä¼°

**å½“å‰æ¶æ„ï¼š**
- åç«¯ï¼šFastAPI + SQLAlchemy + SQLite
- å‰ç«¯ï¼šHTML + JavaScript + Bootstrap 5 + vis.js
- æ•°æ®åº“ï¼šSQLite

**æ¶æ„ä¼˜åŠ¿ï¼š**
- âœ… è½»é‡çº§ï¼Œé€‚åˆä¸­å°å‹é¡¹ç›®
- âœ… æŠ€æœ¯æ ˆç»Ÿä¸€ï¼Œç»´æŠ¤æˆæœ¬ä½
- âœ… ç°æœ‰å›¢é˜ŸæŠ€èƒ½åŒ¹é…
- âœ… éƒ¨ç½²ç®€å•ï¼Œæ— å¤æ‚ä¾èµ–

**æ¶æ„é£é™©ï¼š**
- âš ï¸ SQLiteå¹¶å‘æ€§èƒ½æœ‰é™
- âš ï¸ å•ä½“æ¶æ„ï¼Œæ‰©å±•æ€§å—é™
- âš ï¸ å‰ç«¯JavaScriptä»£ç å¯èƒ½å˜å¾—å¤æ‚

**ç»“è®ºï¼š** å½“å‰æ¶æ„é€‚åˆé¡¹ç›®è§„æ¨¡ï¼Œå»ºè®®ä¿æŒç°æœ‰æŠ€æœ¯æ ˆï¼Œé‡‡ç”¨æ¸è¿›å¼å¢å¼ºç­–ç•¥ã€‚

### 3.2 æ•´ä½“æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ç•Œé¢å±‚     â”‚    â”‚    APIæ¥å£å±‚     â”‚    â”‚   æ•°æ®è®¿é—®å±‚     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ‹“æ‰‘å›¾å¯è§†åŒ–     â”‚â—„â”€â”€â–ºâ”‚ è¿æ¥ç®¡ç†API     â”‚â—„â”€â”€â–ºâ”‚ Connectionæ¨¡å‹   â”‚
â”‚ è¿æ¥ç®¡ç†ç•Œé¢     â”‚    â”‚ æ‹“æ‰‘å›¾API       â”‚    â”‚ Deviceæ¨¡å‹      â”‚
â”‚ ç»Ÿè®¡åˆ†æç•Œé¢     â”‚    â”‚ ç»Ÿè®¡åˆ†æAPI     â”‚    â”‚ æ•°æ®åº“æ“ä½œ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 4. æ•°æ®æ¨¡å‹è®¾è®¡

### 4.1 Connectionæ¨¡å‹æ‰©å±•

åŸºäºExcelæ•°æ®ç»“æ„å’Œç°æœ‰æ¨¡å‹ï¼Œè®¾è®¡å®Œæ•´çš„Connectionæ¨¡å‹ï¼š

```python
class Connection(Base):
    __tablename__ = "connections"
    
    # åŸºç¡€å­—æ®µ
    id = Column(Integer, primary_key=True, index=True)
    source_device_id = Column(Integer, ForeignKey("devices.id"), nullable=False)
    target_device_id = Column(Integer, ForeignKey("devices.id"), nullable=False)
    
    # Aç«¯ï¼ˆæºç«¯ï¼‰ä¿¡æ¯
    source_port = Column(String(100))  # Aç«¯ç«¯å£
    source_fuse_number = Column(String(50))  # Aç«¯ç†”ä¸ç¼–å·
    source_fuse_spec = Column(String(100))  # Aç«¯ç†”ä¸è§„æ ¼
    source_breaker_number = Column(String(50))  # Aç«¯ç©ºå¼€ç¼–å·
    source_breaker_spec = Column(String(100))  # Aç«¯ç©ºå¼€è§„æ ¼
    
    # Bç«¯ï¼ˆç›®æ ‡ç«¯ï¼‰ä¿¡æ¯
    target_port = Column(String(100))  # Bç«¯ç«¯å£
    target_fuse_number = Column(String(50))  # Bç«¯ç†”ä¸ç¼–å·
    target_fuse_spec = Column(String(100))  # Bç«¯ç†”ä¸è§„æ ¼
    target_breaker_number = Column(String(50))  # Bç«¯ç©ºå¼€ç¼–å·
    target_breaker_spec = Column(String(100))  # Bç«¯ç©ºå¼€è§„æ ¼
    target_device_location = Column(String(200))  # Bç«¯è®¾å¤‡ä½ç½®ï¼ˆéåŠ¨åŠ›è®¾å¤‡ï¼‰
    
    # è¿æ¥ä¿¡æ¯
    connection_type = Column(String(20), nullable=False)  # è¿æ¥ç±»å‹ï¼šcable/busbar/busway
    cable_model = Column(String(100))  # ç”µç¼†å‹å·
    hierarchy_relation = Column(String(20))  # ä¸Šä¸‹çº§å…³ç³»ï¼ˆå¦‚ï¼šAä¸ŠBä¸‹ï¼‰
    upstream_downstream = Column(String(20))  # ä¸Šä¸‹æ¸¸å…³ç³»ï¼ˆå¦‚ï¼šä¸Šæ¸¸ã€ä¸‹æ¸¸ï¼‰
    
    # æŠ€æœ¯å‚æ•°ï¼ˆä»ç”µç¼†å‹å·å’Œè§„æ ¼æ¨å¯¼ï¼‰
    cable_specification = Column(String(100))  # ç”µç¼†è§„æ ¼ï¼ˆå¦‚ï¼šRVVZ-240mmÂ²ï¼‰
    parallel_count = Column(Integer, default=1)  # å¹¶è”æ•°é‡ï¼ˆä»å¤‡æ³¨è§£æï¼‰
    rated_current = Column(Float)  # é¢å®šç”µæµ(A)ï¼ˆä»ç†”ä¸/ç©ºå¼€è§„æ ¼æ¨å¯¼ï¼‰
    cable_length = Column(Float)  # ç”µç¼†é•¿åº¦(m)
    
    # é™„åŠ ä¿¡æ¯
    source_device_photo = Column(String(500))  # Aç«¯è®¾å¤‡ç…§ç‰‡è·¯å¾„
    target_device_photo = Column(String(500))  # Bç«¯è®¾å¤‡ç…§ç‰‡è·¯å¾„
    remark = Column(Text)  # å¤‡æ³¨
    installation_date = Column(Date)  # å®‰è£…æ—¥æœŸ
    created_at = Column(DateTime, default=datetime.utcnow)
    updated_at = Column(DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)
    
    # å…³è”å…³ç³»
    source_device = relationship("Device", foreign_keys=[source_device_id], back_populates="source_connections")
    target_device = relationship("Device", foreign_keys=[target_device_id], back_populates="target_connections")
```

### 4.2 å­—æ®µæ˜ å°„è¡¨

| Excelå­—æ®µ | æ•°æ®åº“å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|-----------|------------|------|------|
| Aç«¯è®¾å¤‡åç§° | source_device_id | Integer | é€šè¿‡è®¾å¤‡åç§°æŸ¥æ‰¾ID |
| Aç«¯ç†”ä¸ç¼–å· | source_fuse_number | String | Aç«¯ç†”ä¸ç¼–å· |
| Aç«¯ç†”ä¸è§„æ ¼ | source_fuse_spec | String | Aç«¯ç†”ä¸è§„æ ¼ |
| Aç«¯ç©ºå¼€ç¼–å· | source_breaker_number | String | Aç«¯ç©ºå¼€ç¼–å· |
| Aç«¯ç©ºå¼€è§„æ ¼ | source_breaker_spec | String | Aç«¯ç©ºå¼€è§„æ ¼ |
| ä¸Šä¸‹çº§ | hierarchy_relation | String | ä¸Šä¸‹çº§å…³ç³» |
| ä¸Šä¸‹æ¸¸ | upstream_downstream | String | ä¸Šä¸‹æ¸¸å…³ç³» |
| è¿æ¥ç±»å‹ | connection_type | String | cable/busbar/busway |
| ç”µç¼†å‹å· | cable_model | String | ç”µç¼†å‹å· |
| Bç«¯è®¾å¤‡åç§° | target_device_id | Integer | é€šè¿‡è®¾å¤‡åç§°æŸ¥æ‰¾ID |
| Bç«¯ç†”ä¸ç¼–å· | target_fuse_number | String | Bç«¯ç†”ä¸ç¼–å· |
| Bç«¯ç†”ä¸è§„æ ¼ | target_fuse_spec | String | Bç«¯ç†”ä¸è§„æ ¼ |
| Bç«¯ç©ºå¼€ç¼–å· | target_breaker_number | String | Bç«¯ç©ºå¼€ç¼–å· |
| ç©ºå¼€è§„æ ¼ | target_breaker_spec | String | Bç«¯ç©ºå¼€è§„æ ¼ |
| Bç«¯è®¾å¤‡ä½ç½® | target_device_location | String | Bç«¯è®¾å¤‡ä½ç½® |
| Aç«¯è®¾å¤‡ç…§ç‰‡ | source_device_photo | String | Aç«¯è®¾å¤‡ç…§ç‰‡è·¯å¾„ |
| Bç«¯è®¾å¤‡ç…§ç‰‡ | target_device_photo | String | Bç«¯è®¾å¤‡ç…§ç‰‡è·¯å¾„ |
| å¤‡æ³¨ | remark | Text | å¤‡æ³¨ä¿¡æ¯ |

### 4.3 æ•°æ®å¤„ç†è§„åˆ™

**è¿æ¥ç±»å‹æ ‡å‡†åŒ–ï¼š**
- "ç”µç¼†" â†’ "cable"
- "é“œæ’" â†’ "busbar"
- "æ¯çº¿" â†’ "busway"

**å¹¶è”æ•°é‡è§£æï¼š**
- ä»å¤‡æ³¨å­—æ®µè§£æå¹¶è”ä¿¡æ¯ï¼ˆå¦‚ï¼š"æ··åˆå¹¶è”ï¼šAç«¯ç†”ä¸*2+Aã€Bé—´ç”µç¼†*4"ï¼‰
- æå–æ•°å­—ä½œä¸ºparallel_count

**é¢å®šç”µæµæ¨å¯¼ï¼š**
- ä»ç†”ä¸è§„æ ¼è§£æç”µæµå€¼ï¼ˆå¦‚ï¼š"NT4(500A)" â†’ 500Aï¼‰
- ä»ç©ºå¼€è§„æ ¼è§£æç”µæµå€¼ï¼ˆå¦‚ï¼š"RT16Z-3(500A)" â†’ 500Aï¼‰

## 5. APIæ¥å£è®¾è®¡

### 5.1 è¿æ¥ç®¡ç†API

#### 5.1.1 è·å–è¿æ¥åˆ—è¡¨
```
GET /api/connections
å‚æ•°ï¼š
- page: é¡µç ï¼ˆå¯é€‰ï¼Œé»˜è®¤1ï¼‰
- size: æ¯é¡µæ•°é‡ï¼ˆå¯é€‰ï¼Œé»˜è®¤20ï¼‰
- connection_type: è¿æ¥ç±»å‹è¿‡æ»¤ï¼ˆå¯é€‰ï¼‰
- source_device_id: æºè®¾å¤‡IDè¿‡æ»¤ï¼ˆå¯é€‰ï¼‰
- hierarchy_relation: ä¸Šä¸‹çº§å…³ç³»è¿‡æ»¤ï¼ˆå¯é€‰ï¼‰

å“åº”ï¼š
{
  "total": 100,
  "page": 1,
  "size": 20,
  "items": [
    {
      "id": 1,
      "source_device": {
        "id": 1,
        "name": "æ–°å¤§æ¥¼ä¸€æ¥¼ç»¼åˆæœºæˆ¿_1#ç›´æµç³»ç»Ÿç›´é…å±E15",
        "asset_id": "A001"
      },
      "target_device": {
        "id": 2,
        "name": "æ–°å¤§æ¥¼ä¸‰æ¥¼ç”µåŠ›å®¤_1#ç›´æµç³»ç»Ÿè“„ç”µæ± 01",
        "asset_id": "A002"
      },
      "connection_type": "cable",
      "cable_model": "RVVZ-240mmÂ²",
      "source_fuse_number": "BF1ï¼ˆç”µæ± 1ï¼‰",
      "source_fuse_spec": "NT4(500A)",
      "hierarchy_relation": "Aä¸ŠBä¸‹",
      "upstream_downstream": "ä¸Šæ¸¸",
      "parallel_count": 4,
      "rated_current": 500.0,
      "remark": "æ··åˆå¹¶è”ï¼šAç«¯ç†”ä¸*2+Aã€Bé—´ç”µç¼†*4"
    }
  ]
}
```

#### 5.1.2 åˆ›å»ºè¿æ¥
```
POST /api/connections
è¯·æ±‚ä½“ï¼š
{
  "source_device_id": 1,
  "target_device_id": 2,
  "source_fuse_number": "BF1ï¼ˆç”µæ± 1ï¼‰",
  "source_fuse_spec": "NT4(500A)",
  "connection_type": "cable",
  "cable_model": "RVVZ-240mmÂ²",
  "hierarchy_relation": "Aä¸ŠBä¸‹",
  "upstream_downstream": "ä¸Šæ¸¸",
  "parallel_count": 4,
  "remark": "æ··åˆå¹¶è”ï¼šAç«¯ç†”ä¸*2+Aã€Bé—´ç”µç¼†*4"
}
```

#### 5.1.3 æ›´æ–°è¿æ¥
```
PUT /api/connections/{connection_id}
è¯·æ±‚ä½“ï¼šåŒåˆ›å»ºè¿æ¥
```

#### 5.1.4 åˆ é™¤è¿æ¥
```
DELETE /api/connections/{connection_id}
```

### 5.2 æ‹“æ‰‘å›¾API

#### 5.2.1 ä¿®å¤ç°æœ‰APIè·¯å¾„
```
# ä¿æŒç°æœ‰åŠŸèƒ½ï¼Œä¿®å¤è·¯å¾„ä¸ä¸€è‡´é—®é¢˜
GET /api/power-chain/{device_id}  # æ–°å¢ï¼Œä¸å‰ç«¯ä¿æŒä¸€è‡´
GET /graph_data/{device_id}       # ä¿ç•™ï¼Œå‘åå…¼å®¹

å“åº”æ ¼å¼ï¼ˆå¢å¼ºï¼‰ï¼š
{
  "nodes": [
    {
      "id": 1,
      "label": "æ–°å¤§æ¥¼ä¸€æ¥¼ç»¼åˆæœºæˆ¿_1#ç›´æµç³»ç»Ÿç›´é…å±E15",
      "title": "è¯¦ç»†ä¿¡æ¯HTML",
      "level": 0,
      "device_type": "ç›´æµé…ç”µå±",
      "power_rating": "10kVA"
    }
  ],
  "edges": [
    {
      "from": 1,
      "to": 2,
      "arrows": "to",
      "label": "RVVZ-240mmÂ² (500A)",
      "connection_type": "cable",
      "connection_id": 1,
      "color": {"color": "#2196F3"},  # ç”µç¼†ç”¨è“è‰²
      "width": 3,
      "title": "è¿æ¥è¯¦æƒ…HTML",
      "hierarchy_relation": "Aä¸ŠBä¸‹",
      "upstream_downstream": "ä¸Šæ¸¸"
    }
  ]
}
```

### 5.3 ç»Ÿè®¡åˆ†æAPI

#### 5.3.1 è¿æ¥ç»Ÿè®¡
```
GET /api/connections/statistics
å“åº”ï¼š
{
  "total_connections": 50,
  "by_type": {
    "cable": 45,
    "busbar": 3,
    "busway": 2
  },
  "by_hierarchy": {
    "Aä¸ŠBä¸‹": 30,
    "Aä¸‹Bä¸Š": 15,
    "å¹³çº§": 5
  },
  "by_upstream_downstream": {
    "ä¸Šæ¸¸": 25,
    "ä¸‹æ¸¸": 20,
    "ä¸­æ¸¸": 5
  },
  "parallel_connections": 15,
  "total_current_capacity": 25000.0
}
```

## 6. å‰ç«¯ç•Œé¢è®¾è®¡

### 6.1 æ‹“æ‰‘å›¾å¯è§†åŒ–å¢å¼º

#### 6.1.1 è¿æ¥çº¿æ ·å¼åŒºåˆ†
- **ç”µç¼†è¿æ¥**ï¼šè“è‰²å®çº¿ï¼Œçº¿å®½æ ¹æ®ç”µæµç­‰çº§è°ƒæ•´
- **é“œæ’è¿æ¥**ï¼šæ©™è‰²ç²—çº¿ï¼Œè¡¨ç¤ºå¤§ç”µæµä¼ è¾“
- **æ¯çº¿è¿æ¥**ï¼šç»¿è‰²ç²—çº¿ï¼Œè¡¨ç¤ºæ¯çº¿è¿æ¥
- **å¹¶è”è¿æ¥**ï¼šåŒçº¿æˆ–è™šçº¿è¡¨ç¤º
- **ä¸Šä¸‹çº§å…³ç³»**ï¼šç®­å¤´æ–¹å‘è¡¨ç¤ºå±‚çº§

#### 6.1.2 äº¤äº’åŠŸèƒ½
- **è¿æ¥çº¿ç‚¹å‡»**ï¼šæ˜¾ç¤ºè¿æ¥è¯¦ç»†ä¿¡æ¯ï¼ˆåŒ…å«ç†”ä¸ã€ç©ºå¼€ä¿¡æ¯ï¼‰
- **å³é”®èœå•**ï¼šç¼–è¾‘è¿æ¥ã€åˆ é™¤è¿æ¥
- **æ‹–æ‹½åˆ›å»º**ï¼šä»æºè®¾å¤‡æ‹–æ‹½åˆ°ç›®æ ‡è®¾å¤‡åˆ›å»ºè¿æ¥
- **ç¼©æ”¾å’Œå¹³ç§»**ï¼šæ”¯æŒå›¾å½¢çš„ç¼©æ”¾å’Œå¹³ç§»æ“ä½œ
- **å±‚çº§ç­›é€‰**ï¼šæŒ‰ä¸Šä¸‹çº§å…³ç³»ç­›é€‰æ˜¾ç¤º

### 6.2 è¿æ¥ç®¡ç†ç•Œé¢

#### 6.2.1 è¿æ¥åˆ—è¡¨é¡µé¢
```html
<!-- æ–°å¢é¡µé¢ï¼š/templates/connections.html -->
<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <h2>ä¾›ç”µè¿æ¥ç®¡ç†</h2>
      
      <!-- ç­›é€‰å’Œæœç´¢ -->
      <div class="row mb-3">
        <div class="col-md-2">
          <select class="form-select" id="connectionTypeFilter">
            <option value="">æ‰€æœ‰è¿æ¥ç±»å‹</option>
            <option value="cable">ç”µç¼†è¿æ¥</option>
            <option value="busbar">é“œæ’è¿æ¥</option>
            <option value="busway">æ¯çº¿è¿æ¥</option>
          </select>
        </div>
        <div class="col-md-2">
          <select class="form-select" id="hierarchyFilter">
            <option value="">æ‰€æœ‰å±‚çº§å…³ç³»</option>
            <option value="Aä¸ŠBä¸‹">Aä¸ŠBä¸‹</option>
            <option value="Aä¸‹Bä¸Š">Aä¸‹Bä¸Š</option>
            <option value="å¹³çº§">å¹³çº§</option>
          </select>
        </div>
        <div class="col-md-2">
          <select class="form-select" id="upstreamFilter">
            <option value="">æ‰€æœ‰ä¸Šä¸‹æ¸¸</option>
            <option value="ä¸Šæ¸¸">ä¸Šæ¸¸</option>
            <option value="ä¸‹æ¸¸">ä¸‹æ¸¸</option>
            <option value="ä¸­æ¸¸">ä¸­æ¸¸</option>
          </select>
        </div>
        <div class="col-md-3">
          <input type="text" class="form-control" id="deviceSearch" placeholder="æœç´¢è®¾å¤‡åç§°">
        </div>
        <div class="col-md-3">
          <button class="btn btn-primary" onclick="addConnection()">æ–°å¢è¿æ¥</button>
          <button class="btn btn-success" onclick="importFromExcel()">Excelå¯¼å…¥</button>
        </div>
      </div>
      
      <!-- è¿æ¥åˆ—è¡¨è¡¨æ ¼ -->
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>æºè®¾å¤‡</th>
            <th>ç›®æ ‡è®¾å¤‡</th>
            <th>è¿æ¥ç±»å‹</th>
            <th>ç”µç¼†å‹å·</th>
            <th>ç†”ä¸/ç©ºå¼€</th>
            <th>å±‚çº§å…³ç³»</th>
            <th>ä¸Šä¸‹æ¸¸</th>
            <th>å¹¶è”æ•°</th>
            <th>æ“ä½œ</th>
          </tr>
        </thead>
        <tbody id="connectionsTable">
          <!-- åŠ¨æ€åŠ è½½ -->
        </tbody>
      </table>
      
      <!-- åˆ†é¡µ -->
      <nav>
        <ul class="pagination" id="pagination">
          <!-- åŠ¨æ€ç”Ÿæˆ -->
        </ul>
      </nav>
    </div>
  </div>
</div>
```

#### 6.2.2 è¿æ¥ç¼–è¾‘å¯¹è¯æ¡†
```html
<!-- è¿æ¥ç¼–è¾‘æ¨¡æ€æ¡† -->
<div class="modal fade" id="connectionModal" tabindex="-1">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">ç¼–è¾‘è¿æ¥</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="connectionForm">
          <!-- åŸºç¡€è¿æ¥ä¿¡æ¯ -->
          <div class="row">
            <div class="col-md-6">
              <label class="form-label">æºè®¾å¤‡ (Aç«¯)</label>
              <select class="form-select" name="source_device_id" required>
                <!-- åŠ¨æ€åŠ è½½è®¾å¤‡åˆ—è¡¨ -->
              </select>
            </div>
            <div class="col-md-6">
              <label class="form-label">ç›®æ ‡è®¾å¤‡ (Bç«¯)</label>
              <select class="form-select" name="target_device_id" required>
                <!-- åŠ¨æ€åŠ è½½è®¾å¤‡åˆ—è¡¨ -->
              </select>
            </div>
          </div>
          
          <!-- Aç«¯ä¿¡æ¯ -->
          <h6 class="mt-4">Aç«¯ä¿¡æ¯</h6>
          <div class="row">
            <div class="col-md-3">
              <label class="form-label">Aç«¯ç†”ä¸ç¼–å·</label>
              <input type="text" class="form-control" name="source_fuse_number">
            </div>
            <div class="col-md-3">
              <label class="form-label">Aç«¯ç†”ä¸è§„æ ¼</label>
              <input type="text" class="form-control" name="source_fuse_spec">
            </div>
            <div class="col-md-3">
              <label class="form-label">Aç«¯ç©ºå¼€ç¼–å·</label>
              <input type="text" class="form-control" name="source_breaker_number">
            </div>
            <div class="col-md-3">
              <label class="form-label">Aç«¯ç©ºå¼€è§„æ ¼</label>
              <input type="text" class="form-control" name="source_breaker_spec">
            </div>
          </div>
          
          <!-- Bç«¯ä¿¡æ¯ -->
          <h6 class="mt-4">Bç«¯ä¿¡æ¯</h6>
          <div class="row">
            <div class="col-md-3">
              <label class="form-label">Bç«¯ç†”ä¸ç¼–å·</label>
              <input type="text" class="form-control" name="target_fuse_number">
            </div>
            <div class="col-md-3">
              <label class="form-label">Bç«¯ç†”ä¸è§„æ ¼</label>
              <input type="text" class="form-control" name="target_fuse_spec">
            </div>
            <div class="col-md-3">
              <label class="form-label">Bç«¯ç©ºå¼€ç¼–å·</label>
              <input type="text" class="form-control" name="target_breaker_number">
            </div>
            <div class="col-md-3">
              <label class="form-label">Bç«¯ç©ºå¼€è§„æ ¼</label>
              <input type="text" class="form-control" name="target_breaker_spec">
            </div>
          </div>
          
          <!-- è¿æ¥ä¿¡æ¯ -->
          <h6 class="mt-4">è¿æ¥ä¿¡æ¯</h6>
          <div class="row">
            <div class="col-md-3">
              <label class="form-label">è¿æ¥ç±»å‹</label>
              <select class="form-select" name="connection_type" required>
                <option value="cable">ç”µç¼†è¿æ¥</option>
                <option value="busbar">é“œæ’è¿æ¥</option>
                <option value="busway">æ¯çº¿è¿æ¥</option>
              </select>
            </div>
            <div class="col-md-3">
              <label class="form-label">ç”µç¼†å‹å·</label>
              <input type="text" class="form-control" name="cable_model" placeholder="å¦‚ï¼šRVVZ-240mmÂ²">
            </div>
            <div class="col-md-3">
              <label class="form-label">ä¸Šä¸‹çº§å…³ç³»</label>
              <select class="form-select" name="hierarchy_relation">
                <option value="">è¯·é€‰æ‹©</option>
                <option value="Aä¸ŠBä¸‹">Aä¸ŠBä¸‹</option>
                <option value="Aä¸‹Bä¸Š">Aä¸‹Bä¸Š</option>
                <option value="å¹³çº§">å¹³çº§</option>
              </select>
            </div>
            <div class="col-md-3">
              <label class="form-label">ä¸Šä¸‹æ¸¸å…³ç³»</label>
              <select class="form-select" name="upstream_downstream">
                <option value="">è¯·é€‰æ‹©</option>
                <option value="ä¸Šæ¸¸">ä¸Šæ¸¸</option>
                <option value="ä¸‹æ¸¸">ä¸‹æ¸¸</option>
                <option value="ä¸­æ¸¸">ä¸­æ¸¸</option>
              </select>
            </div>
          </div>
          
          <!-- æŠ€æœ¯å‚æ•° -->
          <h6 class="mt-4">æŠ€æœ¯å‚æ•°</h6>
          <div class="row">
            <div class="col-md-3">
              <label class="form-label">å¹¶è”æ•°é‡</label>
              <input type="number" class="form-control" name="parallel_count" value="1" min="1">
            </div>
            <div class="col-md-3">
              <label class="form-label">é¢å®šç”µæµ(A)</label>
              <input type="number" class="form-control" name="rated_current" step="0.1">
            </div>
            <div class="col-md-3">
              <label class="form-label">ç”µç¼†é•¿åº¦(m)</label>
              <input type="number" class="form-control" name="cable_length" step="0.1">
            </div>
            <div class="col-md-3">
              <label class="form-label">å®‰è£…æ—¥æœŸ</label>
              <input type="date" class="form-control" name="installation_date">
            </div>
          </div>
          
          <!-- é™„åŠ ä¿¡æ¯ -->
          <h6 class="mt-4">é™„åŠ ä¿¡æ¯</h6>
          <div class="row">
            <div class="col-md-6">
              <label class="form-label">Bç«¯è®¾å¤‡ä½ç½®</label>
              <input type="text" class="form-control" name="target_device_location">
            </div>
            <div class="col-md-6">
              <label class="form-label">å¤‡æ³¨</label>
              <textarea class="form-control" name="remark" rows="2"></textarea>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å–æ¶ˆ</button>
        <button type="button" class="btn btn-primary" onclick="saveConnection()">ä¿å­˜</button>
      </div>
    </div>
  </div>
</div>
```

### 6.3 ç»Ÿè®¡åˆ†æç•Œé¢

#### 6.3.1 è¿æ¥ç»Ÿè®¡å¡ç‰‡
```html
<!-- åœ¨é¦–é¡µæ·»åŠ è¿æ¥ç»Ÿè®¡ -->
<div class="row mb-4">
  <div class="col-md-2">
    <div class="card text-white bg-info">
      <div class="card-body">
        <h6 class="card-title">æ€»è¿æ¥æ•°</h6>
        <h3 id="totalConnections">-</h3>
      </div>
    </div>
  </div>
  <div class="col-md-2">
    <div class="card text-white bg-primary">
      <div class="card-body">
        <h6 class="card-title">ç”µç¼†è¿æ¥</h6>
        <h3 id="cableConnections">-</h3>
      </div>
    </div>
  </div>
  <div class="col-md-2">
    <div class="card text-white bg-warning">
      <div class="card-body">
        <h6 class="card-title">é“œæ’è¿æ¥</h6>
        <h3 id="busbarConnections">-</h3>
      </div>
    </div>
  </div>
  <div class="col-md-2">
    <div class="card text-white bg-success">
      <div class="card-body">
        <h6 class="card-title">æ¯çº¿è¿æ¥</h6>
        <h3 id="buswayConnections">-</h3>
      </div>
    </div>
  </div>
  <div class="col-md-2">
    <div class="card text-white bg-danger">
      <div class="card-body">
        <h6 class="card-title">å¹¶è”è¿æ¥</h6>
        <h3 id="parallelConnections">-</h3>
      </div>
    </div>
  </div>
  <div class="col-md-2">
    <div class="card text-white bg-dark">
      <div class="card-body">
        <h6 class="card-title">æ€»å®¹é‡(A)</h6>
        <h3 id="totalCapacity">-</h3>
      </div>
    </div>
  </div>
</div>
```

## 7. UI/UXè®¾è®¡è§„èŒƒ

### 7.1 æ•´ä½“è®¾è®¡é£æ ¼

åŸºäºç°æœ‰ç³»ç»Ÿåˆ†æï¼Œè®¾å¤‡è¿æ¥å…³ç³»æ¨¡å—å¿…é¡»ä¸ç°æœ‰çš„è®¾å¤‡ç®¡ç†å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†æ¨¡å—ä¿æŒå®Œå…¨ä¸€è‡´çš„è§†è§‰é£æ ¼ã€‚

#### 7.1.1 è®¾è®¡ç³»ç»Ÿæ¦‚è§ˆ

**ç°æœ‰ç³»ç»Ÿç‰¹å¾ï¼š**
- **æŠ€æœ¯æ ˆ**ï¼šBootstrap 5.1.3 + Font Awesome 6.0.0
- **ä¸»è‰²è°ƒ**ï¼šè“è‰²ç³»ï¼ˆ#007bff, #4a69bdï¼‰
- **å­—ä½“**ï¼š'Segoe UI', Tahoma, Geneva, Verdana, sans-serif
- **å¸ƒå±€**ï¼šå“åº”å¼è®¾è®¡ï¼Œcontainer-fluidå¸ƒå±€
- **ç»„ä»¶é£æ ¼**ï¼šç°ä»£æ‰å¹³åŒ–è®¾è®¡ï¼Œåœ†è§’è¾¹æ¡†ï¼Œé˜´å½±æ•ˆæœ

#### 7.1.2 è‰²å½©è§„èŒƒ

**ä¸»è‰²è°ƒï¼š**
- ä¸»è“è‰²ï¼š`#007bff` (Bootstrap Primary)
- æ·±è“è‰²ï¼š`#4a69bd` (è¡¨å¤´èƒŒæ™¯)
- å¯¼èˆªæ ï¼š`bg-primary` (Bootstrap)

**çŠ¶æ€è‰²å½©ï¼š**
- æˆåŠŸ/æ­£å¸¸ï¼š`#28a745` (ç»¿è‰²)
- è­¦å‘Šï¼š`#ffc107` (é»„è‰²)
- å±é™©/è¿‡æœŸï¼š`#dc3545` (çº¢è‰²)
- ä¿¡æ¯ï¼š`#17a2b8` (é’è‰²)
- æ¬¡è¦ï¼š`#6c757d` (ç°è‰²)

**èƒŒæ™¯è‰²å½©ï¼š**
- é¡µé¢èƒŒæ™¯ï¼š`#f8f9fa`
- å¡ç‰‡èƒŒæ™¯ï¼š`#ffffff`
- è¡¨æ ¼æ–‘é©¬çº¹ï¼š`#e9ecef`
- æ‚¬åœæ•ˆæœï¼š`#007bff`

#### 7.1.3 å­—ä½“è§„èŒƒ

**å­—ä½“æ—ï¼š**
```css
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
```

**å­—ä½“å¤§å°ï¼š**
- é¡µé¢æ ‡é¢˜(h1)ï¼šé»˜è®¤Bootstrapå¤§å°
- æ¨¡å—æ ‡é¢˜(h2)ï¼šé»˜è®¤Bootstrapå¤§å°
- è¡¨å¤´ï¼š14px, å¤§å†™, å­—æ¯é—´è·0.5px
- æ­£æ–‡ï¼šé»˜è®¤Bootstrapå¤§å°
- å°æ ‡ç­¾ï¼š12px

**å­—ä½“é¢œè‰²ï¼š**
- ä¸»æ–‡æœ¬ï¼š`#333`
- æ ‡é¢˜ï¼š`#2c3e50`
- æ¬¡è¦æ–‡æœ¬ï¼š`#6c757d` (text-muted)
- è¡¨å¤´ï¼š`#ffffff`

### 7.2 å¯¼èˆªæ è®¾è®¡è§„èŒƒ

#### 7.2.1 å¯¼èˆªæ ç»“æ„
```html
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
        <a class="navbar-brand" href="/">
            <i class="fas fa-bolt"></i> å®‰å‰ç”µä¿¡åŠ¨åŠ›è®¾å¤‡ç®¡ç†ç³»ç»Ÿ
        </a>
        <div class="navbar-nav ms-auto">
            <a class="nav-link" href="/">è®¾å¤‡ç®¡ç†</a>
            <a class="nav-link active" href="/connections">è¿æ¥ç®¡ç†</a>
            <a class="nav-link" href="/lifecycle-management">ç”Ÿå‘½å‘¨æœŸç®¡ç†</a>
        </div>
    </div>
</nav>
```

**è®¾è®¡è¦ç‚¹ï¼š**
- ä½¿ç”¨Bootstrap `navbar-dark bg-primary`
- å“ç‰Œlogoä½¿ç”¨é—ªç”µå›¾æ ‡ `fas fa-bolt`
- å¯¼èˆªé“¾æ¥å³å¯¹é½ `ms-auto`
- å½“å‰é¡µé¢ä½¿ç”¨ `active` ç±»é«˜äº®

### 7.3 é¡µé¢å¸ƒå±€è§„èŒƒ

#### 7.3.1 é¡µé¢å®¹å™¨
```html
<div class="container-fluid mt-4">
    <div class="row">
        <div class="col-12">
            <h2><i class="fas fa-project-diagram"></i> è®¾å¤‡è¿æ¥ç®¡ç†</h2>
            <p class="text-muted">ç®¡ç†è®¾å¤‡é—´çš„ä¾›ç”µè¿æ¥å…³ç³»ï¼Œæ”¯æŒç”µç¼†ã€é“œæ’ã€æ¯çº¿è¿æ¥çš„å¯è§†åŒ–å’Œç®¡ç†</p>
        </div>
    </div>
    <!-- é¡µé¢å†…å®¹ -->
</div>
```

**å¸ƒå±€ç‰¹ç‚¹ï¼š**
- ä½¿ç”¨ `container-fluid` å…¨å®½å¸ƒå±€
- é¡¶éƒ¨é—´è· `mt-4`
- é¡µé¢æ ‡é¢˜ä½¿ç”¨å›¾æ ‡ + æ–‡å­—
- å‰¯æ ‡é¢˜ä½¿ç”¨ `text-muted` æ ·å¼

### 7.4 è¡¨æ ¼è®¾è®¡è§„èŒƒ

#### 7.4.1 è¡¨æ ¼æ ·å¼
```css
/* è¡¨å¤´æ ·å¼ */
.table thead th {
    background-color: #4a69bd !important;
    color: #ffffff !important;
    font-weight: bold;
    text-transform: uppercase;
    font-size: 14px;
    letter-spacing: 0.5px;
    white-space: nowrap;
    border-color: #4a69bd !important;
}

/* è¡¨å¤´åˆ†éš”çº¿ */
thead th:not(:last-child)::after {
    content: '';
    position: absolute;
    right: 0;
    top: 20%;
    height: 60%;
    width: 1px;
    background-color: rgba(255, 255, 255, 0.3);
}

/* æ–‘é©¬çº¹å’Œæ‚¬åœæ•ˆæœ */
tbody tr:nth-of-type(even) {
    background-color: #e9ecef;
}

tbody tr:hover {
    background-color: #007bff;
    color: #ffffff;
}
```

### 7.5 æŒ‰é’®å’Œè¡¨å•è§„èŒƒ

#### 7.5.1 æŒ‰é’®æ ·å¼
**ä¸»è¦æŒ‰é’®ï¼š**
```html
<button class="btn btn-primary">æ–°å¢è¿æ¥</button>
<button class="btn btn-success">Excelå¯¼å…¥</button>
<button class="btn btn-info">å¯¼å‡ºæ•°æ®</button>
```

**æ¬¡è¦æŒ‰é’®ï¼š**
```html
<button class="btn btn-outline-primary">ç­›é€‰</button>
<button class="btn btn-outline-secondary">é‡ç½®</button>
```

**å±é™©æ“ä½œï¼š**
```html
<button class="btn btn-danger">åˆ é™¤</button>
<button class="btn btn-outline-danger">æ‰¹é‡åˆ é™¤</button>
```

#### 7.5.2 è¡¨å•æ§ä»¶
```html
<!-- ä¸‹æ‹‰é€‰æ‹© -->
<select class="form-select">
    <option value="">è¯·é€‰æ‹©...</option>
</select>

<!-- æ–‡æœ¬è¾“å…¥ -->
<input type="text" class="form-control" placeholder="è¯·è¾“å…¥...">

<!-- æœç´¢æ¡† -->
<input type="text" class="form-control" placeholder="æœç´¢è®¾å¤‡åç§°">
```

### 7.6 çŠ¶æ€æ ‡ç­¾è§„èŒƒ

#### 7.6.1 è¿æ¥ç±»å‹æ ‡ç­¾
```css
.connection-type-badge {
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: bold;
    text-align: center;
    display: inline-block;
    min-width: 60px;
}

.connection-cable {
    background-color: #cce5ff;
    color: #0056b3;
    border: 1px solid #99d6ff;
}

.connection-busbar {
    background-color: #fff3cd;
    color: #856404;
    border: 1px solid #ffeaa7;
}

.connection-busway {
    background-color: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
}
```

#### 7.6.2 å±‚çº§å…³ç³»æ ‡ç­¾
```css
.hierarchy-badge {
    padding: 2px 6px;
    border-radius: 8px;
    font-size: 11px;
    font-weight: 500;
}

.hierarchy-upstream {
    background-color: #e3f2fd;
    color: #1565c0;
}

.hierarchy-downstream {
    background-color: #f3e5f5;
    color: #7b1fa2;
}

.hierarchy-parallel {
    background-color: #e8f5e8;
    color: #2e7d32;
}
```

### 7.7 æ‹“æ‰‘å›¾å¯è§†åŒ–è®¾è®¡è§„èŒƒ

#### 7.7.1 å›¾å½¢å®¹å™¨æ ·å¼
```css
#connectionTopology {
    width: 100%;
    height: 70vh;
    border: 2px solid #e9ecef;
    border-radius: 8px;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.06);
    position: relative;
}

/* æ‹“æ‰‘å›¾å·¥å…·æ  */
.topology-toolbar {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 1000;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 6px;
    padding: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

.topology-toolbar .btn {
    margin: 0 2px;
    padding: 4px 8px;
    font-size: 12px;
}
```

#### 7.7.2 èŠ‚ç‚¹æ ·å¼è§„èŒƒ
```javascript
// vis.jsèŠ‚ç‚¹é…ç½®
const nodeStyles = {
    // è®¾å¤‡èŠ‚ç‚¹åŸºç¡€æ ·å¼
    default: {
        shape: 'box',
        margin: 10,
        font: {
            size: 14,
            color: '#2c3e50',
            face: 'Segoe UI'
        },
        borderWidth: 2,
        borderWidthSelected: 3
    },
    
    // ä¸åŒè®¾å¤‡ç±»å‹çš„é¢œè‰²
    deviceTypes: {
        'ç›´æµé…ç”µå±': {
            color: {
                background: '#e3f2fd',
                border: '#1976d2',
                highlight: { background: '#bbdefb', border: '#0d47a1' }
            }
        },
        'è“„ç”µæ± ': {
            color: {
                background: '#e8f5e8',
                border: '#388e3c',
                highlight: { background: '#c8e6c9', border: '#1b5e20' }
            }
        },
        'æ•´æµå™¨': {
            color: {
                background: '#fff3e0',
                border: '#f57c00',
                highlight: { background: '#ffe0b2', border: '#e65100' }
            }
        }
    }
};
```

#### 7.7.3 è¿æ¥çº¿æ ·å¼è§„èŒƒ
```javascript
// vis.jsè¾¹æ ·å¼é…ç½®
const edgeStyles = {
    // ç”µç¼†è¿æ¥
    cable: {
        color: {
            color: '#2196f3',
            highlight: '#1976d2',
            hover: '#42a5f5'
        },
        width: 3,
        dashes: false,
        arrows: { to: { enabled: true, scaleFactor: 1.2 } }
    },
    
    // é“œæ’è¿æ¥
    busbar: {
        color: {
            color: '#ff9800',
            highlight: '#f57c00',
            hover: '#ffb74d'
        },
        width: 5,
        dashes: false,
        arrows: { to: { enabled: true, scaleFactor: 1.5 } }
    },
    
    // æ¯çº¿è¿æ¥
    busway: {
        color: {
            color: '#4caf50',
            highlight: '#388e3c',
            hover: '#66bb6a'
        },
        width: 6,
        dashes: false,
        arrows: { to: { enabled: true, scaleFactor: 1.8 } }
    },
    
    // å¹¶è”è¿æ¥
    parallel: {
        dashes: [5, 5],
        width: 2
    }
};
```

#### 7.7.4 äº¤äº’è®¾è®¡è§„èŒƒ

**é¼ æ ‡äº¤äº’ï¼š**
- **æ‚¬åœèŠ‚ç‚¹**ï¼šæ˜¾ç¤ºè®¾å¤‡è¯¦ç»†ä¿¡æ¯tooltip
- **ç‚¹å‡»èŠ‚ç‚¹**ï¼šé«˜äº®æ˜¾ç¤ºç›¸å…³è¿æ¥
- **åŒå‡»èŠ‚ç‚¹**ï¼šè·³è½¬åˆ°è®¾å¤‡è¯¦æƒ…é¡µ
- **å³é”®èŠ‚ç‚¹**ï¼šæ˜¾ç¤ºä¸Šä¸‹æ–‡èœå•ï¼ˆç¼–è¾‘ã€åˆ é™¤ã€æŸ¥çœ‹è¿æ¥ï¼‰

**è¿æ¥çº¿äº¤äº’ï¼š**
- **æ‚¬åœè¿æ¥çº¿**ï¼šæ˜¾ç¤ºè¿æ¥è¯¦ç»†ä¿¡æ¯ï¼ˆç”µç¼†å‹å·ã€è§„æ ¼ã€ç”µæµç­‰ï¼‰
- **ç‚¹å‡»è¿æ¥çº¿**ï¼šé«˜äº®æ˜¾ç¤ºï¼Œä¾§è¾¹æ æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
- **å³é”®è¿æ¥çº¿**ï¼šæ˜¾ç¤ºç¼–è¾‘/åˆ é™¤èœå•

**å·¥å…·æ åŠŸèƒ½ï¼š**
```html
<div class="topology-toolbar">
    <button class="btn btn-sm btn-outline-primary" title="é€‚åº”çª—å£">
        <i class="fas fa-expand-arrows-alt"></i>
    </button>
    <button class="btn btn-sm btn-outline-primary" title="é‡ç½®è§†å›¾">
        <i class="fas fa-home"></i>
    </button>
    <button class="btn btn-sm btn-outline-primary" title="å…¨å±">
        <i class="fas fa-expand"></i>
    </button>
    <button class="btn btn-sm btn-outline-success" title="å¯¼å‡ºå›¾ç‰‡">
        <i class="fas fa-download"></i>
    </button>
</div>
```

### 7.8 å“åº”å¼è®¾è®¡è§„èŒƒ

#### 7.8.1 æ–­ç‚¹è®¾ç½®
éµå¾ªBootstrap 5æ–­ç‚¹ï¼š
- **xs**: <576px
- **sm**: â‰¥576px
- **md**: â‰¥768px
- **lg**: â‰¥992px
- **xl**: â‰¥1200px
- **xxl**: â‰¥1400px

#### 7.8.2 ç§»åŠ¨ç«¯é€‚é…
```css
/* ç§»åŠ¨ç«¯æ‹“æ‰‘å›¾é€‚é… */
@media (max-width: 768px) {
    #connectionTopology {
        height: 50vh;
    }
    
    .topology-toolbar {
        position: static;
        margin-bottom: 10px;
        text-align: center;
    }
    
    .connection-table {
        font-size: 12px;
    }
    
    .connection-table th,
    .connection-table td {
        padding: 6px 4px;
    }
}
```

### 7.9 æ— éšœç¢è®¾è®¡è§„èŒƒ

#### 7.9.1 é”®ç›˜å¯¼èˆª
- æ‰€æœ‰äº¤äº’å…ƒç´ æ”¯æŒTabé”®å¯¼èˆª
- æ‹“æ‰‘å›¾æ”¯æŒæ–¹å‘é”®ç§»åŠ¨ç„¦ç‚¹
- Enteré”®æ¿€æ´»é€‰ä¸­å…ƒç´ 
- Escapeé”®å…³é—­æ¨¡æ€æ¡†å’Œèœå•

#### 7.9.2 å±å¹•é˜…è¯»å™¨æ”¯æŒ
```html
<!-- ARIAæ ‡ç­¾ç¤ºä¾‹ -->
<button class="btn btn-primary" aria-label="æ–°å¢è®¾å¤‡è¿æ¥">
    <i class="fas fa-plus" aria-hidden="true"></i> æ–°å¢è¿æ¥
</button>

<div id="connectionTopology" role="img" aria-label="è®¾å¤‡è¿æ¥æ‹“æ‰‘å›¾">
    <!-- æ‹“æ‰‘å›¾å†…å®¹ -->
</div>
```

#### 7.9.3 è‰²å½©å¯¹æ¯”åº¦
ç¡®ä¿æ‰€æœ‰æ–‡æœ¬å’ŒèƒŒæ™¯çš„å¯¹æ¯”åº¦ç¬¦åˆWCAG 2.1 AAæ ‡å‡†ï¼ˆ4.5:1ï¼‰ã€‚

### 7.10 åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ

#### 7.10.1 é¡µé¢è¿‡æ¸¡
```css
/* é¡µé¢åŠ è½½åŠ¨ç”» */
.page-transition {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.3s ease-in-out;
}

.page-transition.loaded {
    opacity: 1;
    transform: translateY(0);
}

/* å¡ç‰‡æ‚¬åœæ•ˆæœ */
.statistics-card {
    transition: all 0.3s ease;
}

.statistics-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}
```

#### 7.10.2 æ‹“æ‰‘å›¾åŠ¨ç”»
```javascript
// vis.jsåŠ¨ç”»é…ç½®
const animationOptions = {
    animation: {
        duration: 1000,
        easingFunction: 'easeInOutQuad'
    },
    physics: {
        stabilization: {
            enabled: true,
            iterations: 1000,
            updateInterval: 25
        }
    }
};
```

### 7.11 è®¾è®¡ä¸€è‡´æ€§æ£€æŸ¥æ¸…å•

**å¯¼èˆªå’Œå¸ƒå±€ï¼š**
- [ ] å¯¼èˆªæ ä½¿ç”¨ç»Ÿä¸€çš„ `navbar-dark bg-primary` æ ·å¼
- [ ] é¡µé¢æ ‡é¢˜ä½¿ç”¨å›¾æ ‡ + æ–‡å­—æ ¼å¼
- [ ] ä½¿ç”¨ `container-fluid mt-4` å¸ƒå±€
- [ ] å‰¯æ ‡é¢˜ä½¿ç”¨ `text-muted` æ ·å¼

**è¡¨æ ¼å’Œåˆ—è¡¨ï¼š**
- [ ] è¡¨å¤´ä½¿ç”¨ `#4a69bd` èƒŒæ™¯è‰²
- [ ] è¡¨æ ¼æ”¯æŒæ–‘é©¬çº¹å’Œæ‚¬åœæ•ˆæœ
- [ ] æ“ä½œæŒ‰é’®ä½¿ç”¨Bootstrapæ ‡å‡†æ ·å¼

**è¡¨å•å’Œæ§ä»¶ï¼š**
- [ ] ä½¿ç”¨Bootstrapè¡¨å•æ§ä»¶ç±»
- [ ] æŒ‰é’®é¢œè‰²ç¬¦åˆè¯­ä¹‰åŒ–è®¾è®¡
- [ ] çŠ¶æ€æ ‡ç­¾ä½¿ç”¨ç»Ÿä¸€çš„æ ·å¼è§„èŒƒ

**æ‹“æ‰‘å›¾å¯è§†åŒ–ï¼š**
- [ ] å®¹å™¨ä½¿ç”¨æ¸å˜èƒŒæ™¯å’Œåœ†è§’è¾¹æ¡†
- [ ] èŠ‚ç‚¹é¢œè‰²æŒ‰è®¾å¤‡ç±»å‹åŒºåˆ†
- [ ] è¿æ¥çº¿æ ·å¼æŒ‰è¿æ¥ç±»å‹åŒºåˆ†
- [ ] å·¥å…·æ ä½¿ç”¨åŠé€æ˜èƒŒæ™¯

**å“åº”å¼å’Œæ— éšœç¢ï¼š**
- [ ] ç§»åŠ¨ç«¯é€‚é…æ­£å¸¸
- [ ] æ”¯æŒé”®ç›˜å¯¼èˆª
- [ ] ARIAæ ‡ç­¾å®Œæ•´
- [ ] è‰²å½©å¯¹æ¯”åº¦ç¬¦åˆæ ‡å‡†

é€šè¿‡ä¸¥æ ¼éµå¾ªè¿™äº›UI/UXè®¾è®¡è§„èŒƒï¼Œç¡®ä¿è®¾å¤‡è¿æ¥å…³ç³»æ¨¡å—ä¸ç°æœ‰ç³»ç»Ÿä¿æŒå®Œç¾çš„è§†è§‰ä¸€è‡´æ€§ï¼ŒåŒæ—¶ä¸ºæ‹“æ‰‘å›¾å¯è§†åŒ–æä¾›ç›´è§‚ã€ç¾è§‚ä¸”æ˜“ç”¨çš„äº¤äº’ä½“éªŒã€‚

## 7. æ•°æ®è¿ç§»ç­–ç•¥

### 7.1 æ•°æ®åº“è¿ç§»æ–¹æ¡ˆ

```python
# æ•°æ®åº“è¿ç§»è„šæœ¬ï¼šmigrate_connections.py
import sqlite3
from datetime import datetime

def upgrade_connection_table():
    """å‡çº§Connectionè¡¨ç»“æ„"""
    conn = sqlite3.connect('asset_management.db')
    cursor = conn.cursor()
    
    try:
        # å¤‡ä»½ç°æœ‰æ•°æ®
        cursor.execute("CREATE TABLE connections_backup AS SELECT * FROM connections")
        
        # æ·»åŠ æ–°å­—æ®µ
        new_columns = [
            "source_fuse_number VARCHAR(50)",
            "source_fuse_spec VARCHAR(100)",
            "source_breaker_number VARCHAR(50)",
            "source_breaker_spec VARCHAR(100)",
            "target_fuse_number VARCHAR(50)",
            "target_fuse_spec VARCHAR(100)",
            "target_breaker_number VARCHAR(50)",
            "target_breaker_spec VARCHAR(100)",
            "target_device_location VARCHAR(200)",
            "connection_type VARCHAR(20) DEFAULT 'cable'",
            "cable_model VARCHAR(100)",
            "hierarchy_relation VARCHAR(20)",
            "upstream_downstream VARCHAR(20)",
            "cable_specification VARCHAR(100)",
            "parallel_count INTEGER DEFAULT 1",
            "rated_current FLOAT",
            "cable_length FLOAT",
            "source_device_photo VARCHAR(500)",
            "target_device_photo VARCHAR(500)",
            "remark TEXT",
            "installation_date DATE",
            "created_at DATETIME DEFAULT CURRENT_TIMESTAMP",
            "updated_at DATETIME DEFAULT CURRENT_TIMESTAMP"
        ]
        
        for column in new_columns:
            try:
                cursor.execute(f"ALTER TABLE connections ADD COLUMN {column}")
                print(f"æ·»åŠ å­—æ®µæˆåŠŸ: {column}")
            except sqlite3.OperationalError as e:
                if "duplicate column name" in str(e):
                    print(f"å­—æ®µå·²å­˜åœ¨ï¼Œè·³è¿‡: {column}")
                else:
                    raise e
        
        # è¿ç§»ç°æœ‰æ•°æ®
        cursor.execute("""
            UPDATE connections 
            SET connection_type = CASE 
                WHEN cable_type LIKE '%ç”µç¼†%' THEN 'cable'
                WHEN cable_type LIKE '%é“œæ’%' THEN 'busbar'
                WHEN cable_type LIKE '%æ¯çº¿%' THEN 'busway'
                ELSE 'cable'
            END
            WHERE cable_type IS NOT NULL
        """)
        
        cursor.execute("""
            UPDATE connections 
            SET cable_specification = cable_type 
            WHERE cable_type IS NOT NULL
        """)
        
        conn.commit()
        print("æ•°æ®åº“è¿ç§»å®Œæˆ")
        
    except Exception as e:
        conn.rollback()
        print(f"æ•°æ®åº“è¿ç§»å¤±è´¥: {e}")
        # æ¢å¤å¤‡ä»½
        cursor.execute("DROP TABLE IF EXISTS connections")
        cursor.execute("ALTER TABLE connections_backup RENAME TO connections")
        conn.commit()
        raise e
    
    finally:
        conn.close()

if __name__ == "__main__":
    upgrade_connection_table()
```

### 7.2 Excelæ•°æ®å¯¼å…¥å¢å¼º

```python
# Excelå¯¼å…¥å¢å¼ºè„šæœ¬
import pandas as pd
import re
from datetime import datetime

def parse_parallel_count(remark):
    """ä»å¤‡æ³¨ä¸­è§£æå¹¶è”æ•°é‡"""
    if not remark or pd.isna(remark):
        return 1
    
    # åŒ¹é…ç±»ä¼¼ "Aã€Bé—´ç”µç¼†*4" çš„æ¨¡å¼
    match = re.search(r'ç”µç¼†\*(\d+)', str(remark))
    if match:
        return int(match.group(1))
    
    # åŒ¹é…ç±»ä¼¼ "Aç«¯ç†”ä¸*2" çš„æ¨¡å¼
    match = re.search(r'ç†”ä¸\*(\d+)', str(remark))
    if match:
        return int(match.group(1))
    
    return 1

def parse_rated_current(spec):
    """ä»è§„æ ¼ä¸­è§£æé¢å®šç”µæµ"""
    if not spec or pd.isna(spec):
        return None
    
    # åŒ¹é…ç±»ä¼¼ "NT4(500A)" æˆ– "RT16Z-3(500A)" çš„æ¨¡å¼
    match = re.search(r'\((\d+)A\)', str(spec))
    if match:
        return float(match.group(1))
    
    return None

def standardize_connection_type(conn_type):
    """æ ‡å‡†åŒ–è¿æ¥ç±»å‹"""
    if not conn_type or pd.isna(conn_type):
        return 'cable'
    
    conn_type = str(conn_type).strip()
    if 'ç”µç¼†' in conn_type:
        return 'cable'
    elif 'é“œæ’' in conn_type:
        return 'busbar'
    elif 'æ¯çº¿' in conn_type:
        return 'busway'
    else:
        return 'cable'

def import_connections_from_excel(excel_path, db_session):
    """ä»Excelå¯¼å…¥è¿æ¥æ•°æ®"""
    # è¯»å–è¿æ¥è¡¨
    df = pd.read_excel(excel_path, sheet_name=1)
    
    imported_count = 0
    error_count = 0
    
    for index, row in df.iterrows():
        try:
            # æŸ¥æ‰¾è®¾å¤‡ID
            source_device = db_session.query(Device).filter(
                Device.name == row['Aç«¯è®¾å¤‡åç§°']
            ).first()
            
            target_device = db_session.query(Device).filter(
                Device.name == row['Bç«¯è®¾å¤‡åç§°']
            ).first()
            
            if not source_device or not target_device:
                print(f"ç¬¬{index+1}è¡Œï¼šè®¾å¤‡ä¸å­˜åœ¨ï¼Œè·³è¿‡")
                error_count += 1
                continue
            
            # æ£€æŸ¥é‡å¤è¿æ¥
            existing = db_session.query(Connection).filter(
                Connection.source_device_id == source_device.id,
                Connection.target_device_id == target_device.id,
                Connection.source_fuse_number == row.get('Aç«¯ç†”ä¸ç¼–å·'),
                Connection.target_fuse_number == row.get('Bç«¯ç†”ä¸ç¼–å·')
            ).first()
            
            if existing:
                print(f"ç¬¬{index+1}è¡Œï¼šè¿æ¥å·²å­˜åœ¨ï¼Œè·³è¿‡")
                continue
            
            # åˆ›å»ºè¿æ¥è®°å½•
            connection = Connection(
                source_device_id=source_device.id,
                target_device_id=target_device.id,
                source_fuse_number=row.get('Aç«¯ç†”ä¸ç¼–å·'),
                source_fuse_spec=row.get('Aç«¯ç†”ä¸è§„æ ¼'),
                source_breaker_number=row.get('Aç«¯ç©ºå¼€ç¼–å·'),
                source_breaker_spec=row.get('Aç«¯ç©ºå¼€è§„æ ¼'),
                target_fuse_number=row.get('Bç«¯ç†”ä¸ç¼–å·'),
                target_fuse_spec=row.get('Bç«¯ç†”ä¸è§„æ ¼'),
                target_breaker_number=row.get('Bç«¯ç©ºå¼€ç¼–å·'),
                target_breaker_spec=row.get('ç©ºå¼€è§„æ ¼'),
                target_device_location=row.get('Bç«¯è®¾å¤‡ä½ç½®ï¼ˆéåŠ¨åŠ›è®¾å¤‡ï¼‰'),
                connection_type=standardize_connection_type(row.get('è¿æ¥ç±»å‹ï¼ˆç”µç¼† / é“œæ’ / æ¯çº¿ï¼‰')),
                cable_model=row.get('ç”µç¼†å‹å·'),
                hierarchy_relation=row.get('ä¸Šä¸‹çº§'),
                upstream_downstream=row.get('ä¸Šä¸‹æ¸¸'),
                parallel_count=parse_parallel_count(row.get('å¤‡æ³¨')),
                rated_current=parse_rated_current(row.get('Aç«¯ç†”ä¸è§„æ ¼')) or parse_rated_current(row.get('Aç«¯ç©ºå¼€è§„æ ¼')),
                source_device_photo=row.get('Aç«¯è®¾å¤‡ç…§ç‰‡'),
                target_device_photo=row.get('Bç«¯è®¾å¤‡ç…§ç‰‡'),
                remark=row.get('å¤‡æ³¨'),
                created_at=datetime.utcnow()
            )
            
            db_session.add(connection)
            imported_count += 1
            
        except Exception as e:
            print(f"ç¬¬{index+1}è¡Œå¯¼å…¥å¤±è´¥: {e}")
            error_count += 1
    
    try:
        db_session.commit()
        print(f"å¯¼å…¥å®Œæˆï¼šæˆåŠŸ{imported_count}æ¡ï¼Œå¤±è´¥{error_count}æ¡")
    except Exception as e:
        db_session.rollback()
        print(f"æ‰¹é‡æäº¤å¤±è´¥: {e}")
        raise e
    
    return imported_count, error_count
```

## 8. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 8.1 æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–

```sql
-- åˆ›å»ºç´¢å¼•æå‡æŸ¥è¯¢æ€§èƒ½
CREATE INDEX idx_connection_source ON connections(source_device_id);
CREATE INDEX idx_connection_target ON connections(target_device_id);
CREATE INDEX idx_connection_type ON connections(connection_type);
CREATE INDEX idx_connection_hierarchy ON connections(hierarchy_relation);
CREATE INDEX idx_connection_upstream ON connections(upstream_downstream);
CREATE INDEX idx_connection_devices ON connections(source_device_id, target_device_id);
CREATE INDEX idx_connection_created ON connections(created_at);
```

### 8.2 å‰ç«¯æ€§èƒ½ä¼˜åŒ–

**æ‹“æ‰‘å›¾ä¼˜åŒ–ï¼š**
- å¤§å›¾æ•°æ®åˆ†æ‰¹åŠ è½½
- èŠ‚ç‚¹èšåˆæ˜¾ç¤º
- è§†å£è£å‰ªä¼˜åŒ–
- é˜²æŠ–å¤„ç†ç”¨æˆ·äº¤äº’

**é¡µé¢åŠ è½½ä¼˜åŒ–ï¼š**
- æ‡’åŠ è½½éå…³é”®èµ„æº
- å‹ç¼©JavaScriptå’ŒCSS
- ä½¿ç”¨CDNåŠ è½½ç¬¬ä¸‰æ–¹åº“
- åˆ†é¡µæŸ¥è¯¢é¿å…å¤§æ•°æ®é‡åŠ è½½

## 9. é£é™©è¯„ä¼°ä¸ç¼“è§£

### 9.1 æŠ€æœ¯é£é™©

| é£é™© | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|------|----------|
| æ•°æ®è¿ç§»å¤±è´¥ | ä½ | é«˜ | å®Œæ•´å¤‡ä»½ã€åˆ†æ­¥è¿ç§»ã€å›æ»šæ–¹æ¡ˆ |
| æ€§èƒ½ä¸‹é™ | ä¸­ | ä¸­ | æ€§èƒ½æµ‹è¯•ã€ç´¢å¼•ä¼˜åŒ–ã€åˆ†é¡µåŠ è½½ |
| å‰ç«¯å…¼å®¹æ€§ | ä½ | ä¸­ | æ¸è¿›å¢å¼ºã€å‘åå…¼å®¹ã€å……åˆ†æµ‹è¯• |
| Excelå¯¼å…¥é”™è¯¯ | ä¸­ | ä¸­ | æ•°æ®éªŒè¯ã€é”™è¯¯å¤„ç†ã€æ‰¹é‡å›æ»š |

### 9.2 ä¸šåŠ¡é£é™©

| é£é™© | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|------|----------|
| ç”¨æˆ·æ¥å—åº¦ | ä½ | ä¸­ | ç”¨æˆ·åŸ¹è®­ã€ç•Œé¢å‹å¥½ã€åŠŸèƒ½æ¸è¿› |
| æ•°æ®å‡†ç¡®æ€§ | ä¸­ | é«˜ | æ•°æ®éªŒè¯ã€å®¡æ ¸æµç¨‹ã€é”™è¯¯æ£€æµ‹ |
| å­—æ®µæ˜ å°„é”™è¯¯ | ä¸­ | é«˜ | è¯¦ç»†æµ‹è¯•ã€å­—æ®µéªŒè¯ã€æ•°æ®å¯¹æ¯” |

## 10. å®æ–½è®¡åˆ’

### 10.1 åˆ†é˜¶æ®µå®æ–½

**ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€ä¿®å¤ï¼ˆ1-2å¤©ï¼‰**
- [ ] ä¿®å¤APIè·¯å¾„ä¸åŒ¹é…é—®é¢˜
- [ ] æ‰©å±•Connectionæ•°æ®æ¨¡å‹
- [ ] åˆ›å»ºæ•°æ®åº“è¿ç§»è„šæœ¬
- [ ] å®ç°åŸºç¡€CRUD APIæ¥å£

**ç¬¬äºŒé˜¶æ®µï¼šç®¡ç†ç•Œé¢ï¼ˆ2-3å¤©ï¼‰**
- [ ] å¼€å‘è¿æ¥ç®¡ç†é¡µé¢
- [ ] å®ç°è¿æ¥åˆ—è¡¨å’Œç­›é€‰åŠŸèƒ½
- [ ] å¼€å‘è¿æ¥ç¼–è¾‘å¯¹è¯æ¡†
- [ ] æ•°æ®éªŒè¯å’Œé”™è¯¯å¤„ç†

**ç¬¬ä¸‰é˜¶æ®µï¼šå¯è§†åŒ–å¢å¼ºï¼ˆ2-3å¤©ï¼‰**
- [ ] ä¼˜åŒ–æ‹“æ‰‘å›¾è¿æ¥çº¿æ ·å¼
- [ ] å¢å¼ºäº¤äº’åŠŸèƒ½
- [ ] æ·»åŠ å±‚çº§å…³ç³»æ˜¾ç¤º
- [ ] æ€§èƒ½ä¼˜åŒ–

**ç¬¬å››é˜¶æ®µï¼šExcelå¯¼å…¥å¢å¼ºï¼ˆ1-2å¤©ï¼‰**
- [ ] å¢å¼ºExcelæ•°æ®å¯¼å…¥åŠŸèƒ½
- [ ] æ•°æ®éªŒè¯å’Œæ¸…ç†
- [ ] é”™è¯¯å¤„ç†å’Œå›æ»š
- [ ] å¯¼å…¥ç»“æœç»Ÿè®¡

**ç¬¬äº”é˜¶æ®µï¼šæµ‹è¯•å’Œä¼˜åŒ–ï¼ˆ1-2å¤©ï¼‰**
- [ ] å…¨é¢åŠŸèƒ½æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–
- [ ] ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- [ ] æ–‡æ¡£æ›´æ–°

### 10.2 æˆåŠŸå…³é”®å› ç´ 

#### æŠ€æœ¯å®æ–½å…³é”®å› ç´ 
- **æ¸è¿›å¼å¢å¼ºç­–ç•¥**ï¼šç¡®ä¿æ¯ä¸ªé˜¶æ®µéƒ½æœ‰å¯äº¤ä»˜çš„æˆæœ
- **å‘åå…¼å®¹ä¿è¯**ï¼šæ–°åŠŸèƒ½ä¸å½±å“ç°æœ‰ç³»ç»Ÿè¿è¡Œ
- **å®Œæ•´çš„æ•°æ®è¿ç§»æ–¹æ¡ˆ**ï¼šç¡®ä¿æ•°æ®å®‰å…¨å’Œå®Œæ•´æ€§
- **åˆ†é˜¶æ®µå®æ–½è®¡åˆ’**ï¼šé™ä½å®æ–½é£é™©ï¼Œä¾¿äºé—®é¢˜å®šä½
- **é£é™©è¯„ä¼°ä¸ç¼“è§£**ï¼šæå‰è¯†åˆ«å’Œåº”å¯¹æ½œåœ¨é£é™©

#### å›¢é˜Ÿåä½œå…³é”®å› ç´ 
- **æ˜ç¡®çš„æ²Ÿé€šæœºåˆ¶**ï¼šç¡®ä¿å›¢é˜Ÿæˆå‘˜å¯¹éœ€æ±‚å’Œè¿›åº¦æœ‰å…±åŒç†è§£
- **ä»£ç å®¡æŸ¥åˆ¶åº¦**ï¼šä¿è¯ä»£ç è´¨é‡å’ŒçŸ¥è¯†å…±äº«
- **æ–‡æ¡£åŒæ­¥æ›´æ–°**ï¼šç¡®ä¿æ–‡æ¡£ä¸å®é™…å®ç°ä¿æŒä¸€è‡´
- **æµ‹è¯•é©±åŠ¨å¼€å‘**ï¼šé€šè¿‡æµ‹è¯•ç¡®ä¿åŠŸèƒ½æ­£ç¡®æ€§

#### è´¨é‡ä¿è¯å…³é”®å› ç´ 
- **å…¨é¢çš„æµ‹è¯•è¦†ç›–**ï¼šå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€ç”¨æˆ·éªŒæ”¶æµ‹è¯•
- **æ€§èƒ½ç›‘æ§æœºåˆ¶**ï¼šç¡®ä¿ç³»ç»Ÿæ€§èƒ½æ»¡è¶³è¦æ±‚
- **ç”¨æˆ·åé¦ˆæ”¶é›†**ï¼šåŠæ—¶æ”¶é›†å’Œå“åº”ç”¨æˆ·åé¦ˆ
- **æŒç»­æ”¹è¿›æœºåˆ¶**ï¼šåŸºäºä½¿ç”¨æƒ…å†µæŒç»­ä¼˜åŒ–ç³»ç»Ÿ

### 10.3 å¼€å‘è§„åˆ™ä¸æµç¨‹æ§åˆ¶

#### æ ¸å¿ƒå¼€å‘è§„åˆ™
- **é˜¶æ®µæ€§ç¡®è®¤åˆ¶**ï¼šæ¯å®ç°ä¸€ä¸ªæ–°åŠŸèƒ½æˆ–é˜¶æ®µæ€§æˆæœï¼Œå¿…é¡»ç»è¿‡ç”¨æˆ·æµ‹è¯•ç¡®è®¤æ— è¯¯åæ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥
- **ä¸¥æ ¼éµå¾ªè®¾è®¡æ–‡æ¡£**ï¼šåç»­å¼€å‘å¿…é¡»ä¸¥æ ¼æŒ‰ç…§æœ¬ç»¼åˆè®¾è®¡æ–‡æ¡£æ‰§è¡Œï¼Œç¡®ä¿é«˜æˆåŠŸç‡
- **Gitæäº¤ç®¡ç†**ï¼šé‡è¦èŠ‚ç‚¹åŠæ—¶è¿›è¡ŒGitæäº¤ï¼Œä¸è¦ç­‰åˆ°æœ€åä¸€æ¬¡æ€§æäº¤
- **é”™è¯¯å’Œç»éªŒè®°å½•**ï¼šå¼€å‘è¿‡ç¨‹ä¸­çš„é‡è¦é”™è¯¯ã€ç»éªŒå’Œé‡è¦æ“ä½œéƒ½è¦å•ç‹¬è®°å½•åˆ°æ–‡æ¡£ä¸­
- **Bugä¿®å¤æµç¨‹**ï¼šä¿®å¤Bugå‰å…ˆå…¨é¢æ£€æŸ¥ç›¸å…³æ–‡ä»¶ï¼Œç»™å‡ºåˆ†æè¯Šæ–­æŠ¥å‘Šï¼Œç¡®è®¤åå†ä¿®æ”¹
- **å›é€€å‡†å¤‡**ï¼šä¿®æ”¹æ—¶è¦åšå¥½å›é€€å‡†å¤‡ï¼Œå¦‚é€ æˆæ–°æ•…éšœè¦èƒ½é©¬ä¸Šå›é€€åˆ°ä¹‹å‰çŠ¶æ€

#### è´¨é‡æ§åˆ¶æ ‡å‡†
- **ä»£ç æ³¨é‡Šè¦æ±‚**ï¼šç”±äºç”¨æˆ·ç¼–ç¨‹åŸºç¡€æœ‰é™ï¼Œå¿…è¦åœ°æ–¹è¦åŠ è¯¦ç»†æ³¨é‡Š
- **é«˜æ ‡å‡†ä¸¥è¦æ±‚**ï¼šæŒ‰ç…§å¹´è–ªè¿‡ç™¾ä¸‡çš„è¶…çº§é«˜æ‰‹æ ‡å‡†ï¼Œä»£ç è¦ç²¾ç®€é«˜æ•ˆ
- **å¤§å±€è§‚æ€ç»´**ï¼šè¦äº†è§£é¡¹ç›®ç›®æ ‡ã€èŒƒå›´ã€ç”¨æˆ·å’Œstakeholdersï¼Œé¿å…å±€éƒ¨ä¼˜åŒ–å¯¼è‡´æ•´ä½“é—®é¢˜
- **å‘åå…¼å®¹**ï¼šæ–°åŠŸèƒ½ä¸èƒ½å½±å“ç°æœ‰ç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œ

#### æ–‡æ¡£ç®¡ç†è§„åˆ™
- **å®æ—¶æ›´æ–°**ï¼šé¡¹ç›®è¿›è¡Œä¸­å¦‚æœ‰å˜æ›´ï¼ŒåŠæ—¶æ›´æ–°è®¾è®¡æ–‡æ¡£
- **ç»éªŒæ€»ç»“**ï¼šé‡è¦çš„é”™è¯¯å’Œç»éªŒè¦å•ç‹¬è®°å½•ï¼Œä½œä¸ºåç»­å‚è€ƒ
- **ç”¨æˆ·æ–‡æ¡£**ï¼šå®Œæˆåè¦ç¼–å†™ç”¨æˆ·æ–‡æ¡£å’Œæ“ä½œæŒ‡å—

#### æµ‹è¯•ç¡®è®¤æµç¨‹
æ¯ä¸ªé˜¶æ®µå®Œæˆåçš„æµ‹è¯•ç¡®è®¤åŒ…æ‹¬ï¼š
1. **åŠŸèƒ½æµ‹è¯•**ï¼šéªŒè¯æ–°åŠŸèƒ½æ˜¯å¦æŒ‰è®¾è®¡è¦æ±‚æ­£å¸¸å·¥ä½œ
2. **å…¼å®¹æ€§æµ‹è¯•**ï¼šç¡®ä¿æ–°åŠŸèƒ½ä¸å½±å“ç°æœ‰åŠŸèƒ½
3. **æ€§èƒ½æµ‹è¯•**ï¼šéªŒè¯ç³»ç»Ÿæ€§èƒ½æ˜¯å¦æ»¡è¶³è¦æ±‚
4. **ç”¨æˆ·ä½“éªŒæµ‹è¯•**ï¼šç¡®ä¿ç•Œé¢ç¾è§‚ã€æ“ä½œä¾¿æ·
5. **æ•°æ®å®Œæ•´æ€§æµ‹è¯•**ï¼šç¡®ä¿æ•°æ®è¿ç§»å’Œå¤„ç†çš„æ­£ç¡®æ€§

åªæœ‰é€šè¿‡å…¨éƒ¨æµ‹è¯•ç¡®è®¤åï¼Œæ‰èƒ½è¿›å…¥ä¸‹ä¸€ä¸ªå¼€å‘é˜¶æ®µã€‚

### 10.4 éªŒæ”¶æ ‡å‡†

**åŠŸèƒ½éªŒæ”¶ï¼š**
- âœ… æ”¯æŒExcelæ•°æ®å®Œæ•´å¯¼å…¥
- âœ… è¿æ¥CRUDæ“ä½œæ­£å¸¸
- âœ… æ‹“æ‰‘å›¾æ­£ç¡®æ˜¾ç¤ºè¿æ¥å…³ç³»
- âœ… ç­›é€‰å’Œæœç´¢åŠŸèƒ½æ­£å¸¸
- âœ… ç»Ÿè®¡åˆ†ææ•°æ®å‡†ç¡®

**æ€§èƒ½éªŒæ”¶ï¼š**
- âœ… é¡µé¢åŠ è½½æ—¶é—´ < 3ç§’
- âœ… æ‹“æ‰‘å›¾æ¸²æŸ“æ—¶é—´ < 5ç§’
- âœ… è¿æ¥åˆ—è¡¨æŸ¥è¯¢æ—¶é—´ < 2ç§’
- âœ… Excelå¯¼å…¥å¤„ç†æ—¶é—´åˆç†

**å…¼å®¹æ€§éªŒæ”¶ï¼š**
- âœ… ç°æœ‰è®¾å¤‡ç®¡ç†åŠŸèƒ½ä¸å—å½±å“
- âœ… ç°æœ‰æ‹“æ‰‘å›¾åŠŸèƒ½æ­£å¸¸
- âœ… æ•°æ®åº“ç»“æ„å‘åå…¼å®¹

## 11. æ€»ç»“

æœ¬ç»¼åˆè®¾è®¡æ–‡æ¡£æ•´åˆäº†æŠ€æœ¯æ–¹æ¡ˆåˆ†æå’Œè¯¦ç»†è®¾è®¡ï¼Œç¡®ä¿äº†ä¸Excelæ•°æ®ç»“æ„çš„å®Œå…¨å…¼å®¹æ€§ã€‚é€šè¿‡æ¸è¿›å¼å¢å¼ºç­–ç•¥ï¼Œåœ¨ä¿æŒç³»ç»Ÿç¨³å®šæ€§çš„å‰æä¸‹ï¼Œå®ç°äº†å®Œæ•´çš„è®¾å¤‡è¿æ¥å…³ç³»ç®¡ç†åŠŸèƒ½ã€‚

**æ ¸å¿ƒä¼˜åŠ¿ï¼š**
- ğŸ“Š **æ•°æ®å®Œæ•´æ€§**ï¼šæ”¯æŒExcelä¸­æ‰€æœ‰18ä¸ªå­—æ®µçš„å®Œæ•´æ˜ å°„
- ğŸ”„ **å‘åå…¼å®¹**ï¼šä¸å½±å“ç°æœ‰åŠŸèƒ½ï¼Œå¹³æ»‘å‡çº§
- ğŸ¯ **ä¸šåŠ¡åŒ¹é…**ï¼šå®Œå…¨ç¬¦åˆå®é™…ä¸šåŠ¡éœ€æ±‚
- ğŸš€ **æŠ€æœ¯å…ˆè¿›**ï¼šé‡‡ç”¨ç°ä»£WebæŠ€æœ¯æ ˆ
- ğŸ“ˆ **å¯æ‰©å±•æ€§**ï¼šä¸ºæœªæ¥åŠŸèƒ½æ‰©å±•é¢„ç•™ç©ºé—´

**é¢„æœŸæ”¶ç›Šï¼š**
- æå‡è®¾å¤‡è¿æ¥å…³ç³»ç®¡ç†æ•ˆç‡
- é™ä½äººå·¥é”™è¯¯ç‡å’Œç»´æŠ¤æˆæœ¬
- æ”¯æŒå†³ç­–åˆ†æå’Œåˆè§„è¦æ±‚
- æä¾›ç›´è§‚çš„å¯è§†åŒ–å±•ç¤º
- å»ºç«‹å®Œå–„çš„æ•°æ®ç®¡ç†ä½“ç³»

è¯¥æ–¹æ¡ˆå·²å……åˆ†è€ƒè™‘äº†ç°æœ‰Excelæ•°æ®ç»“æ„ï¼Œç¡®ä¿äº†è®¾è®¡é˜¶æ®µçš„å®Œæ•´æ€§ï¼Œé¿å…äº†åæœŸä¿®ä¿®è¡¥è¡¥çš„é—®é¢˜ã€‚