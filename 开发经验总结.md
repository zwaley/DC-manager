# 开发经验总结

本项目开发过程中的重要经验、教训和操作记录。

## 1. 核心教训

*   **数据源字段与代码逻辑的精确匹配**:
    *   **问题**: 在处理 Excel 文件导入时，代码中引用的列名（如 `设备名称`）必须与 Excel 文件中的实际列名完全一致。任何不匹配都会导致数据无法正确解析，但程序可能不会直接报错，而是静默失败（如跳过所有行）。
    *   **教训**: 在进行数据集成或文件解析时，必须预先确认数据源的格式和字段名。最好在代码中加入更强的校验和更明确的错误提示，当预期的列名不存在时，应主动报错并提示用户检查文件格式。

*   **日志记录的重要性**:
    *   **问题**: 初期版本缺乏详细的日志，导致在排查文件上传和数据处理问题时，难以定位根本原因，只能依赖猜测。
    *   **教训**: 必须在关键业务逻辑点（如文件读取、数据解析、数据库操作等）添加详细的日志记录。日志应包含关键变量的值和操作的成功/失败状态，这对于快速诊断和调试线上问题至关重要。

*   **前端展示的完整性**:
    *   **问题**: 设备列表页面只显示了部分字段，缺少了“设备生产厂家”、“投产日期”、“备注”等重要信息，不符合用户实际管理需求。
    *   **教训**: 在设计和开发UI界面时，必须与最终用户或产品需求方充分沟通，确保所有必要的信息都得到完整、清晰的展示。不能仅为了实现核心功能而忽略信息展示的全面性。

*   **静态文件的正确引用**:
    *   **问题**: `styles.css` 文件的路径引用不正确（例如，在 `index.html` 中使用了 `/static/styles.css` 而不是 `static/styles.css`），导致样式加载失败，页面显示不美观。
    *   **教训**: 在 Web 开发中，静态文件的路径问题很常见。需要理解相对路径和绝对路径的区别，并确保模板中引用的路径与 Web 框架的静态文件服务配置相匹配。

## 2. 重要操作原则

*   **版本控制**: 在每个重要的功能节点或里程碑完成后，都应使用 Git 创建一个 commit。这可以确保我们有可靠的回退点，防止后续的修改破坏现有功能。
*   **先分析后修改**: 在修复 Bug 或进行较大功能变更前，应先进行全面的分析，阅读相关代码，提出诊断报告和修改计划。获得确认后，再进行修改，避免盲目试错。
*   **持续文档化**: 像本文档一样，持续记录开发过程中的决策、问题和解决方案，这对于项目维护和新成员的加入非常有价值。